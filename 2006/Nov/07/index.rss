<?xml version="1.0"?>
<!-- RSS generated by pyblosxom-1.0.0 -->

<rss version="2.0">
  <channel>
    <title>Chris Lee</title>
    <link>http://c133.org/blog/</link>
    <description>all clee, all the time</description>
    <webMaster>clee@kde.org</webMaster>
    <managingEditor>clee@kde.org</managingEditor>
    <language>en</language>
  <item>
    <title>yet another python rant</title>
    <link>http://c133.org/blog/tech/yet_another_python_rant.html</link>
    <pubDate>Tue, 07 Nov 2006 16:40 -1000</pubDate>
    <description>&lt;p&gt;I hit another case of &quot;Python really makes me angry&quot; today and I thought I would share it with you all, since I know how much you love reading about things that enrage me.&lt;/p&gt;&lt;p&gt;I have a chunk of code that (while being significantly more complex) looks like this:&lt;br /&gt;&lt;pre&gt;def baz():&lt;br /&gt;    print kitties # This works fine.&lt;/p&gt;&lt;p&gt;def bar():&lt;br /&gt;    print kitties # This one throws an exception!&lt;/p&gt;&lt;p&gt;    kitties = &apos;delicious&apos; # The exception is because of this.&lt;/p&gt;&lt;p&gt;def foo():&lt;br /&gt;    stuff = {&apos;kitties&apos;: &apos;squishy&apos;}&lt;/p&gt;&lt;p&gt;    for k, v in stuff.iteritems():&lt;br /&gt;        globals()[k] = v&lt;/p&gt;&lt;p&gt;    baz()&lt;br /&gt;    bar()&lt;br /&gt;&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;This is another example of Python&apos;s scoping being weird, and in my opinion, broken.&lt;/p&gt;&lt;p&gt;Let me explain, in case you didn&apos;t bother copy &amp; pasting that into a python shell and running it.&lt;/p&gt;&lt;p&gt;&lt;code&gt;baz()&lt;/code&gt; will execute properly. &lt;code&gt;bar()&lt;/code&gt; will not. But the error you get from &lt;code&gt;bar()&lt;/code&gt; is worthless - it tells you that you&apos;re trying to read from an unassigned local variable, except you&apos;re trying to read from a global variable. The problem I have is not that &lt;code&gt;bar()&lt;/code&gt; fails - it&apos;s that it is inconsistent with &lt;code&gt;baz()&lt;/code&gt; working. I realize that adding a &lt;code&gt;global kitties&lt;/code&gt; makes &lt;code&gt;bar()&lt;/code&gt; work properly; but I think that in this case, the error should really be when you try to reassign a global variable that hasn&apos;t been declared as global.&lt;br /&gt;&lt;/p&gt;</description>
  </item>
  </channel>
</rss>