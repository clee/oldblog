<?xml version="1.0"?>
<!-- RSS generated by pyblosxom-1.0.0 -->

<rss version="2.0">
  <channel>
    <title>Chris Lee</title>
    <link>http://c133.org/blog/</link>
    <description>all clee, all the time</description>
    <webMaster>clee@kde.org</webMaster>
    <managingEditor>clee@kde.org</managingEditor>
    <language>en</language>
  <item>
    <title>showdown</title>
    <link>http://c133.org/blog/tech/KDE/showdown.html</link>
    <pubDate>Wed, 13 Oct 2004 00:59 -1000</pubDate>
    <description>&lt;p&gt;I blogged earlier about KDE potentially moving our repositories from the ancient and archaic CVS system to the new hotness known as &lt;a href=&quot;http://subversion.tigris.org/&quot;&gt;Subversion&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;This time around, I&apos;ve got more ammunition for discussion and a lot of thoughts about the relative strengths and weaknesses of each system as they apply to KDE. Hopefully other KDE developers will read these notes and at least take them into consideration when discussing our eventual move away from CVS.&lt;/p&gt;&lt;p&gt;So - first off, a few words about CVS. CVS has served KDE faithfully for years, and has been (for us) fairly stable and reliable. It doesn&apos;t change much. And, believe it or not, CVS does have some strengths. &lt;br /&gt;&lt;table border=&quot;0&quot; cellspacing=&quot;1&quot; cellpadding=&quot;3&quot;&gt;&lt;tr&gt;&lt;th colspan=&quot;2&quot;&gt;CVS&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;Strengths&lt;/th&gt;&lt;th&gt;Weaknesses&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Ubiquitous (practically every operating system on every platform can run CVS)&lt;/li&gt;&lt;li&gt;Relatively light on resource usage&lt;/li&gt;&lt;li&gt;Comparitively light on disk usage&lt;/li&gt;&lt;li&gt;It actually &lt;b&gt;works&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Branching is painful&lt;/li&gt;&lt;li&gt;Lacking in certain very basic features&lt;/li&gt;&lt;li&gt;Lack of atomicity with commits; no transactions&lt;/li&gt;&lt;li&gt;Not very well-optimized for low-bandwidth&lt;/li&gt;&lt;li&gt;Difficulty handling binary files properly&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/p&gt;&lt;p&gt;Now, Subversion fixes a few of these issues, but at the core Subversion&apos;s goal is to be a better CVS than CVS. It doesn&apos;t implement wire compatibility, nor can it natively use the old CVS repository format; instead, it maintains the same ideas as CVS (namely the same centralized development model), as well as a compatible command-set except for areas where changes are needed to deal with Subversion having features that CVS doesn&apos;t.&lt;br /&gt;&lt;table cellspacing=&quot;1&quot; cellpadding=&quot;3&quot;&gt;&lt;tr&gt;&lt;th colspan=&quot;2&quot;&gt;Subversion&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;Strengths&lt;/th&gt;&lt;th&gt;Weaknesses&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Little to no learning curve if you already know CVS&lt;/li&gt;&lt;li&gt;Atomic commits, with &lt;a title=&quot;If the commit fails - client kills it, connection dies, etc - it doesn&apos;t end up halfway in the repository. Instead, it fails completely.&quot;&gt;transactions&lt;/a&gt;&lt;/li&gt;&lt;li&gt;File renames&lt;/li&gt;&lt;li&gt;More efficient wire protocol for &lt;a title=&quot;Transmits diffs instead of full files whenever possible, both server-to-client and client-to-server&quot;&gt;low-bandwidth&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Disk usage is significantly higher than CVS for a converted repository&lt;/li&gt;&lt;li&gt;Subversion seems slower than CVS, quite a bit so in some cases&lt;/li&gt;&lt;li&gt;Not nearly as ubiquitous as CVS (yet)&lt;/li&gt;&lt;li&gt;Resource usage is relatively higher than CVS&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/p&gt;&lt;p&gt;And, just for good measure (basically, because I like it) I&apos;ll throw in a little bit about Arch, also known as &apos;tla&apos;.&lt;br /&gt;&lt;table border=&quot;0&quot; cellspacing=&quot;1&quot; cellpadding=&quot;3&quot;&gt;&lt;tr&gt;&lt;th colspan=&quot;2&quot;&gt;Arch&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&gt;Strengths&lt;/th&gt;&lt;th&gt;Weaknesses&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Super intelligent merging support&lt;/li&gt;&lt;li&gt;GPG signing support&lt;/li&gt;&lt;li&gt;Seamless inter-archive branching support&lt;/li&gt;&lt;li&gt;Very easy on server-side resources&lt;/li&gt;&lt;li&gt;Offline commits&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;td&gt;&lt;ul&gt;&lt;li&gt;Relatively high learning curve&lt;/li&gt;&lt;li&gt;Nowhere near as ubiquitous as even Subversion&lt;/li&gt;&lt;li&gt;Rather difficult and verbose user-interface&lt;/li&gt;&lt;li&gt;Disk usage is also higher than CVS&lt;/li&gt;&lt;li&gt;Speed is not very impressive&lt;/li&gt;&lt;/ul&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/p&gt;&lt;p&gt;What does this mean for KDE?&lt;/p&gt;&lt;p&gt;I think that Subversion is a much more natural fit for KDE than Arch. We have a very centralized development model; however, the disk usage issue is depressing to think about. I ran a test conversion of our kdelibs repository from CVS to Subversion, once using the Berkeley database backend and once using the new fsfs backend; the bdb backend takes up 1194M of space, and the fsfs backend takes 1130M of space on my system. In comparison, the CVS repository takes up 281M of space for the same revisions. Some of the Subversion developers have offered me a few hints, but I cringe to think about how difficult the migration will be for a &lt;b&gt;large&lt;/b&gt; module such as kde-i18n.&lt;br /&gt;&lt;/p&gt;</description>
  </item>
  </channel>
</rss>